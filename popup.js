(()=>{var t={612:t=>{var e;self,e=()=>(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{default:()=>$});var o={};function n(t,e,o,n,r={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const i of e)for(const e of o)i[t](e,n,{capture:!1,...r});return Array.prototype.slice.call(arguments,1)}t.r(o),t.d(o,{adjustableInputNumbers:()=>p,createElementFromString:()=>s,createFromTemplate:()=>a,eventPath:()=>l,off:()=>i,on:()=>r,resolveElement:()=>c});const r=n.bind(null,"addEventListener"),i=n.bind(null,"removeEventListener");function s(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function a(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const r=e(t,":obj"),i=e(t,":ref"),s=r?n[r]={}:n;i&&(n[i]=t);for(const n of Array.from(t.children)){const t=e(n,":arr"),r=o(n,t?{}:s);t&&(s[t]||(s[t]=[])).push(Object.keys(r).length?r:n)}return n};return o(s(t))}function l(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function c(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce(((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t)),document):null}function p(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let r=0,i=t.selectionStart;t.value=t.value.replace(/[\d.]+/g,((t,o)=>o<=i&&o+t.length>=i?(i=o,e(Number(t),n,r)):(r++,t))),t.focus(),t.setSelectionRange(i,i),o.preventDefault(),t.dispatchEvent(new Event("input"))}r(t,"focus",(()=>r(window,"wheel",o,{passive:!1}))),r(t,"blur",(()=>i(window,"wheel",o)))}const{min:u,max:d,floor:h,round:m}=Math;function f(t,e,o){e/=100,o/=100;const n=h(t=t/360*6),r=t-n,i=o*(1-e),s=o*(1-r*e),a=o*(1-(1-r)*e),l=n%6;return[255*[o,s,i,i,a,o][l],255*[a,o,o,s,i,i][l],255*[i,i,a,o,o,s][l]]}function v(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function y(t,e,o){const n=u(t/=255,e/=255,o/=255),r=d(t,e,o),i=r-n;let s,a;if(0===i)s=a=0;else{a=i/r;const n=((r-t)/6+i/2)/i,l=((r-e)/6+i/2)/i,c=((r-o)/6+i/2)/i;t===r?s=c-l:e===r?s=1/3+n-c:o===r&&(s=2/3+l-n),s<0?s+=1:s>1&&(s-=1)}return[360*s,100*a,100*r]}function g(t,e,o,n){return e/=100,o/=100,[...y(255*(1-u(1,(t/=100)*(1-(n/=100))+n)),255*(1-u(1,e*(1-n)+n)),255*(1-u(1,o*(1-n)+n)))]}function b(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,r=100*(o+e);return[t,isNaN(n)?0:n,r]}function _(t){return y(...t.match(/.{2}/g).map((t=>parseInt(t,16))))}function w(t=0,e=0,o=0,n=1){const r=(t,e)=>(o=-1)=>e(~o?t.map((t=>Number(t.toFixed(o)))):t),i={h:t,s:e,v:o,a:n,toHSVA(){const t=[i.h,i.s,i.v,i.a];return t.toString=r(t,(t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${i.a})`)),t},toHSLA(){const t=[...v(i.h,i.s,i.v),i.a];return t.toString=r(t,(t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${i.a})`)),t},toRGBA(){const t=[...f(i.h,i.s,i.v),i.a];return t.toString=r(t,(t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${i.a})`)),t},toCMYK(){const t=function(t,e,o){const n=f(t,e,o),r=n[0]/255,i=n[1]/255,s=n[2]/255,a=u(1-r,1-i,1-s);return[100*(1===a?0:(1-r-a)/(1-a)),100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*a]}(i.h,i.s,i.v);return t.toString=r(t,(t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`)),t},toHEXA(){const t=function(t,e,o){return f(t,e,o).map((t=>m(t).toString(16).padStart(2,"0")))}(i.h,i.s,i.v),e=i.a>=1?"":Number((255*i.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>`#${t.join("").toUpperCase()}`,t},clone:()=>w(i.h,i.s,i.v,i.a)};return i}const C=t=>Math.max(Math.min(t,1),0);function A(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:r}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,i="ArrowUp"===r,s="ArrowRight"===r,a="ArrowDown"===r,l="ArrowLeft"===r;if("keydown"===n&&(i||s||a||l)){let n=0,r=0;"v"===o?n=i||s?1:-1:"h"===o?n=i||s?-1:1:(r=i?-1:a?1:0,n=l?-1:s?1:0),e.update(C(e.cache.x+.01*n),C(e.cache.y+.01*r)),t.preventDefault()}else r.startsWith("Arrow")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){r(document,["mouseup","touchend","touchcancel"],e._tapstop),r(document,["mousemove","touchmove"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:r,element:i,wrapper:s}=o,a=s.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);"h"!==r&&(i.style.left=`calc(${l/a.width*100}% - ${i.offsetWidth/2}px)`),"v"!==r&&(i.style.top=`calc(${c/a.height*100}% - ${i.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=C(l/a.width),u=C(c/a.height);switch(r){case"v":return o.onchange(p);case"h":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),i(document,["mouseup","touchend","touchcancel"],e._tapstop),i(document,["mousemove","touchmove"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:r,width:i,height:s}=e.options.wrapper.getBoundingClientRect();"h"===e.options.lock&&(o=t),e._tapmove({clientX:n+i*t,clientY:r+s*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;i(document,["keydown","keyup"],n),i([t.wrapper,t.element],"mousedown",o),i([t.wrapper,t.element],"touchstart",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:s}=e;return r([o.wrapper,o.element],"mousedown",n),r([o.wrapper,o.element],"touchstart",n,{passive:!1}),r(document,["keydown","keyup"],s),e}function S(t={}){t=Object.assign({onchange:()=>0,className:"",elements:[]},t);const e=r(t.elements,"click",(e=>{t.elements.forEach((o=>o.classList[e.target===o?"add":"remove"](t.className))),t.onchange(e),e.stopPropagation()}));return{destroy:()=>i(...e)}}const k={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0};class ${static utils=o;static version="1.9.0";static I18N_DEFAULTS={"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"};static DEFAULT_OPTIONS={appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"};_initializingActive=!0;_recalc=!0;_nanopop=null;_root=null;_color=w();_lastColor=w();_swatchColors=[];_setupAnimationFrame=null;_eventListener={init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]};constructor(t){this.options=t=Object.assign({...$.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:r,lockOpacity:i,padding:s}=t;["nano","monolith"].includes(n)&&!r&&(t.sliders="h"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!i&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach((t=>this.addSwatch(t)));const{button:u,app:d}=this._root;this._nanopop=((t,e,o)=>{const n="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error("Popper- or reference-element missing.");return((t,e,o)=>{const{container:n,arrow:r,margin:i,padding:s,position:a,variantFlipOrder:l,positionFlipOrder:c}={container:document.documentElement.getBoundingClientRect(),...k,...o},{left:p,top:u}=e.style;e.style.left="0",e.style.top="0";const d=t.getBoundingClientRect(),h=e.getBoundingClientRect(),m={t:d.top-h.height-i,b:d.bottom+i,r:d.right+i,l:d.left-h.width-i},f={vs:d.left,vm:d.left+d.width/2-h.width/2,ve:d.left+d.width-h.width,hs:d.top,hm:d.bottom-d.height/2-h.height/2,he:d.bottom-h.height},[v,y="middle"]=a.split("-"),g=c[v],b=l[y],{top:_,left:w,bottom:C,right:A}=n;for(const t of g){const o="t"===t||"b"===t;let n=m[t];const[i,a]=o?["top","left"]:["left","top"],[l,c]=o?[h.height,h.width]:[h.width,h.height],[p,u]=o?[C,A]:[A,C],[v,y]=o?[_,w]:[w,_];if(!(n<v||n+l+s>p))for(const p of b){let m=f[(o?"v":"h")+p];if(!(m<y||m+c+s>u)){if(m-=h[a],n-=h[i],e.style[a]=`${m}px`,e.style[i]=`${n}px`,r){const t=o?d.width/2:d.height/2,e=2*t<c?d[a]+t:m+c/2;n<d[i]&&(n+=l),r.style[a]=`${e}px`,r.style[i]=`${n}px`}return t+p}}}return e.style.left=p,e.style.top=u,null})(e,o,n)}}})(u,d,{margin:s}),u.setAttribute("role","button"),u.setAttribute("aria-label",this._t("btn:toggle"));const h=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!d.offsetWidth)return requestAnimationFrame(e);h.setColor(t.default),h._rePositioningPicker(),t.defaultRepresentation&&(h._representation=t.defaultRepresentation,h.setColorRepresentation(h._representation)),t.showAlways&&h.show(),h._initializingActive=!1,h._emit("init")}))}static create=t=>new $(t);_preBuild(){const{options:t}=this;for(const e of["el","container"])t[e]=c(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:r,theme:i,lockOpacity:s}=t.options,l=t=>t?"":'style="display:none" hidden',c=e=>t._t(e),p=a(`\n      <div :ref="root" class="pickr">\n\n        ${o?"":'<button type="button" :ref="button" class="pcr-button"></button>'}\n\n        <div :ref="app" class="pcr-app ${r||""}" data-theme="${i}" ${n?'style="position: unset"':""} aria-label="${c("ui:dialog")}" role="window">\n          <div class="pcr-selection" ${l(e.palette)}>\n            <div :obj="preview" class="pcr-color-preview" ${l(e.preview)}>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${c("btn:last-color")}"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${c("aria:palette")}" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ${l(e.hue)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${c("aria:hue")}" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ${l(e.opacity)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${c("aria:opacity")}" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ${e.palette?"":"pcr-last"}" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ${l(Object.keys(e.interaction).length)}>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${l(e.interaction.input)} aria-label="${c("aria:input")}">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="${s?"HEX":"HEXA"}" type="button" ${l(e.interaction.hex)}>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="${s?"RGB":"RGBA"}" type="button" ${l(e.interaction.rgba)}>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="${s?"HSL":"HSLA"}" type="button" ${l(e.interaction.hsla)}>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="${s?"HSV":"HSVA"}" type="button" ${l(e.interaction.hsva)}>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${l(e.interaction.cmyk)}>\n\n            <input :ref="save" class="pcr-save" value="${c("btn:save")}" type="button" ${l(e.interaction.save)} aria-label="${c("aria:btn:save")}">\n            <input :ref="cancel" class="pcr-cancel" value="${c("btn:cancel")}" type="button" ${l(e.interaction.cancel)} aria-label="${c("aria:btn:cancel")}">\n            <input :ref="clear" class="pcr-clear" value="${c("btn:clear")}" type="button" ${l(e.interaction.clear)} aria-label="${c("aria:btn:clear")}">\n          </div>\n        </div>\n      </div>\n    `),u=p.interaction;return u.options.find((t=>!t.hidden&&!t.classList.add("active"))),u.type=()=>u.options.find((t=>t.classList.contains("active"))),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||"v").repeat(2),[n,r]=o.match(/^[vh]+$/g)?o:[],i=()=>this._color||(this._color=this._lastColor.clone()),s={palette:A({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit("changestop","slider",t),onchange(o,n){if(!e.palette)return;const r=i(),{_root:s,options:a}=t,{lastColor:l,currentColor:c}=s.preview;t._recalc&&(r.s=100*o,r.v=100-100*n,r.v<0&&(r.v=0),t._updateOutput("slider"));const p=r.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\n                        linear-gradient(to top, rgba(0, 0, 0, ${r.a}), transparent),\n                        linear-gradient(to left, hsla(${r.h}, 100%, 50%, ${r.a}), rgba(255, 255, 255, ${r.a}))\n                    `,a.comparison?a.useAsButton||t._lastColor||l.style.setProperty("--pcr-color",p):(s.button.style.setProperty("--pcr-color",p),s.button.classList.remove("clear"));const u=r.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?"add":"remove"]("pcr-active");c.style.setProperty("--pcr-color",p)}}),hue:A({lock:"v"===r?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit("changestop","slider",t),onchange(o){if(!e.hue||!e.palette)return;const n=i();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,s.palette.trigger()}}),opacity:A({lock:"v"===n?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit("changestop","slider",t),onchange(o){if(!e.opacity||!e.palette)return;const n=i();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,s.palette.trigger()}}),selectable:S({elements:t._root.interaction.options,className:"active",onchange(e){t._representation=e.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput("swatch")}})};this._components=s}_bindEvents(){const{_root:t,options:e}=this,o=[r(t.interaction.clear,"click",(()=>this._clearColor())),r([t.interaction.cancel,t.preview.lastColor],"click",(()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")})),r(t.interaction.save,"click",(()=>{!this.applyColor()&&!e.showAlways&&this.hide()})),r(t.interaction.result,["keyup","input"],(t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),t.stopImmediatePropagation()})),r(t.interaction.result,["focus","blur"],(t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput(null)})),r([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],(()=>this._recalc=!0),{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(r(t.button,"click",(()=>this.isOpen()?this.hide():this.show())),r(document,"keyup",(t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide())),r(document,["touchstart","mousedown"],(e=>{this.isOpen()&&!l(e).some((e=>e===t.app||e===t.button))&&this.hide()}),{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};p(t.interaction.result,((t,o,n)=>{const r=e[this.getColorRepresentation().toLowerCase()];if(r){const e=r[n],i=t+(e>=100?1e3*o:o);return i<=0?0:Number((i<e?i:e).toPrecision(3))}return t}))}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(r(window,["scroll","resize"],(()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout((()=>t=null),100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout((()=>t=null),100)))}),{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+"px",t.style.left=(window.innerWidth-e.width)/2+"px"}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=`to${e.interaction.type().getAttribute("data-type")}`;e.interaction.result.value="function"==typeof o[t]?o[t]().toString(n.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||e.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){const{values:e,type:o,a:n}=function(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if("black"===t.toLowerCase())return"#000";const e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,"#000"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},o=t=>t.map((t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0));let n;t:for(const r in e)if(n=e[r].exec(t))switch(r){case"cmyk":{const[,t,e,i,s]=o(n);if(t>100||e>100||i>100||s>100)break t;return{values:g(t,e,i,s),type:r}}case"rgba":{let[,t,,e,,i,,,s]=o(n);if(t="%"===n[2]?t/100*255:t,e="%"===n[4]?e/100*255:e,i="%"===n[6]?i/100*255:i,s="%"===n[9]?s/100:s,t>255||e>255||i>255||s<0||s>1)break t;return{values:[...y(t,e,i),s],a:s,type:r}}case"hexa":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split("").map((t=>t+t)).join(""));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[..._(e),o],a:o,type:r}}case"hsla":{let[,t,e,i,,s]=o(n);if(s="%"===n[6]?s/100:s,t>360||e>100||i>100||s<0||s>1)break t;return{values:[...b(t,e,i),s],a:s,type:r}}case"hsva":{let[,t,e,i,,s]=o(n);if(s="%"===n[6]?s/100:s,t>360||e>100||i>100||s<0||s>1)break t;return{values:[t,e,i,s],a:s,type:r}}}return{values:null,type:null}}(t),{lockOpacity:r}=this.options,i=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||r&&i?null:e,type:o}}_t(t){return this.options.i18n[t]||$.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach((t=>t(...e,this)))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=w(...e),i=s(`<button type="button" style="--pcr-color: ${n.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return o.swatches.appendChild(i),t.push({el:i,color:n}),this._eventBindings.push(r(i,"click",(()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n),this._emit("change",n,"swatch",this)}))),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.setProperty("--pcr-color",n),this.options.useAsButton||o.style.setProperty("--pcr-color",n),o.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach((t=>i(...t))),Object.keys(this._components).forEach((t=>this._components[t].destroy()))}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach((t=>this[t]=null))}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,o=0,n=1,r=!1){const i=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=w(t,e,o,n);const{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(n),l.update(e/100,1-o/100),r||this.applyColor(),i&&this._updateOutput(),this._recalc=i,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:r}=this._root.interaction,i=r.find((e=>e.getAttribute("data-type")===t));if(i&&!i.hidden)for(const t of r)t.classList[t===i?"add":"remove"]("active");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find((e=>e.getAttribute("data-type").startsWith(t)&&!e.click()))}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}return e.default})(),t.exports=e()}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=o(612),e=o.n(t);const n="#FFFFFF00",r={primaryColor:"#9FC0A2",secondaryColor:"#f5c276",tertiaryColor:"#d36d6d",backgroundColor:"#272a2c",surfaceColor:"#333538",surfaceColorHover:"#404246",defaultWhite:"#F2F5F3",textColor:"#AAAAAA",arrowPrimary:"#68C07B",arrowSecondary:"#f3ae48",arrowTertiary:"#d64d4d",arrowAlternate:"#4b81e6",lastMove:"#99d69e",preMove:"#1B7CC7",moveIndicator:"#99d69e",boardDark:"#71828F",boardLight:"#c7c7c7"},i=document.querySelector("#basicImportContainer"),s=document.querySelector("#basicImport"),a=document.querySelector("#importAction"),l=document.querySelector("#resetButton"),c=document.querySelector("#importButton"),p=document.querySelector("#exportButton"),u=document.querySelector("#siteTab"),d=document.querySelector("#boardTab"),h=document.querySelector("#siteColorGroup"),m=document.querySelector("#boardColorGroup"),f=document.querySelectorAll(".boardColorSelector"),v=document.querySelector("#hideBoardColors"),y=-1!==navigator.userAgent.indexOf("Firefox");function g(){u.classList.remove("active"),d.classList.add("active"),h.classList.add("hideGroup"),m.classList.remove("hideGroup")}function b(t,e){chrome.storage.sync.set({[t]:e})}function _(t){chrome.tabs.query({},(function(e){for(let o=0;o<e.length;o++)void 0!==e[o].url&&chrome.tabs.executeScript(e[o].id,{code:t})}))}function w(){_("window.location.reload();")}function C(t,e){let o=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);_(`document.documentElement.setAttribute("style", (document.documentElement.getAttribute("style") ? document.documentElement.getAttribute("style") : "")+ "--${t}: ${e} !important;--${t}RGB: ${o}, ${n}, ${r} !important;")`),b(t,e)}function A(t){chrome.storage.sync.get(t,(function(o){var n,i;(n=document.querySelector(`#${t}`),i=o[t]?o[t]:r[t],new(e())({el:n,default:i,theme:"nano",components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,input:!0,save:!0}}})).on("save",(e=>{C(t,e.toHEXA().toString())}))}))}function S(t){chrome.storage.sync.get(null,(function(e){let o;chrome.storage.sync.clear();try{o=JSON.parse(t)}catch{o={},console.warn("Error while reading the specified JSON input data")}e.defaultBoardSwitch&&(o.boardLight=n,o.boardDark=n,b("defaultBoardSwitch",!0));for(let t in r)o[t]&&C(t,o[t])})),location.reload(),w()}chrome.storage.sync.get("toggledCustomBoard",(function(t){t.toggledCustomBoard&&(g(),b("toggledCustomBoard",!1))})),u.addEventListener("click",(function(){u.classList.add("active"),d.classList.remove("active"),h.classList.remove("hideGroup"),m.classList.add("hideGroup")})),d.addEventListener("click",g),p.addEventListener("click",(function(){chrome.storage.sync.get(null,(function(t){let e={};for(let o in r)t[o]&&(e[o]=t[o]);if(t.defaultBoardSwitch&&(delete e.boardLight,delete e.boardDark),Object.keys(e).length>0){e=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});let t=URL.createObjectURL(e);chrome.downloads.download({url:t,filename:"prettierlichess_config.json",saveAs:!1})}else alert("No custom colors have been set.")}))})),chrome.storage.sync.get("layoutPreference",(t=>function(t){document.querySelector("#layoutSelect").value="default";const e=document.querySelector("#layoutSelect").children;for(let o=0;o<e.length;o++)e[o].value===t&&(document.querySelector("#layoutSelect").value=t)}(t.layoutPreference))),document.querySelector("#layoutSelect").addEventListener("change",(function(){b("layoutPreference",document.querySelector("#layoutSelect").value),w()}));for(let t in r)A(t);l.addEventListener("click",(()=>{chrome.storage.sync.clear(),w(),location.reload()})),chrome.storage.sync.get("defaultBoardSwitch",(function(t){t.defaultBoardSwitch&&(v.textContent="Use Custom Board Colors",f.forEach((t=>{t.style.display="none"}))),v.addEventListener("click",(()=>{var e;C("boardDark",(e=!t.defaultBoardSwitch)?n:r.boardDark),C("boardLight",e?n:r.boardLight),b("toggledCustomBoard",!0),window.location.reload(),b("defaultBoardSwitch",e),w()}))}));let k=document.createElement("input");k.id="fileSelector",k.style.display="none",k.setAttribute("type","file"),k.onchange=function(){let t=new FileReader;t.onload=function(t){S(t.target.result)},t.readAsText(k.files[0])},document.body.appendChild(k),c.addEventListener("click",(()=>{y?(s.value="",!0,i.style.display="block"):k.click()})),a.addEventListener("click",(()=>{S(s.value.trim())}))})()})();